# 回声

代码运行在合宙的esp32c3开发板上。硬件工作的流程如下：

主机视角下的流程如下：

1. 设备上电检查声音在指定频率范围的增益，假如没有增益执行第二步；反之设备切换为从机。
2. 在该频段发出占空比为50%的声音。计算该频段的声音在指定周期内的占空比；当占空比为100%时，执行第三部。
3. 保持增益的检测。关掉自己的声音，该时刻记为t0。当增益彻底消失时的时刻记为t1。

从机视角下的流程如下：

1. 此时特定频段必有占空比为50%的声音，在t2时刻输出另外50%。
2. 当声音变回50%时，记为t3，关掉自己的声音。

一套流程下来，两人
